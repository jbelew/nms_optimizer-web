/* Tailwind base, theme, and utilities layers */
@import "tailwindcss/preflight.css" layer(base);
@import "tailwindcss/theme.css" layer(theme);
@import "tailwindcss/utilities.css" layer(utilities);

/* Global box-sizing reset */
*,
*::before,
*::after {
	box-sizing: border-box;
}

/* Apply custom font styles using Tailwind's @layer directive */
.radix-themes {
	--default-font-family: Raleway, Helvetica, Arial, sans-serif;
	--font-family-geosans: "GeosansLight", Helvetica, Arial, sans-serif;
	--font-family-nms: "NMS", "GeosansLight", Helvetica, Arial, sans-serif;
	--letter-spacing-wide: 0.225rem;
	/* Added for common letter-spacing */
	--font-weight-bold: 600;
	/* Added for common bold weight */
	--color-background: var(--gray-a1);

	--color-panel-translucent: var(--accent-a2);
	--color-panel-solid: var(--gray-1);
}

.rt-BaseButton {
	--tw-shadow:
		0 1px 3px 0 var(--tw-shadow-color, rgb(0 0 0 / 0.1)),
		0 1px 2px -1px var(--tw-shadow-color, rgb(0 0 0 / 0.1));
	box-shadow:
		var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow),
		var(--tw-ring-shadow), var(--tw-shadow);
}

body.a11y-font .radix-themes {
	--default-font-family: "AtkinsonHyperlegibleNext", Helvetica, Arial, sans-serif;
	--accent-9: #11809c;
}

:root {
	--grid-columns-flex: 10;
	--grid-column-fixed: 24px;

	--grid-padding: 32px;

	--grid-gap-min: 2px;
	--grid-gap-max: 8px;

	--grid-cell-min: 22px;
	--grid-cell-max: 64px;

	/* Available width = viewport - left/right padding */
	--grid-container-width: calc(100dvw - (2 * var(--grid-padding)));

	/* Gap scales, but clamped */
	--grid-gap: clamp(var(--grid-gap-min), 1dvw, var(--grid-gap-max));

	/* Formula: (container - fixed - gaps) / flex-cols, clamped */
	--grid-cell-size: clamp(
		var(--grid-cell-min),
		calc(
			(
					(100dvw - var(--grid-column-fixed)) -
						((var(--grid-columns-flex)) * var(--grid-gap)) -
						(2 * var(--grid-padding) / 2)
				) /
				var(--grid-columns-flex)
		),
		var(--grid-cell-max)
	);

	--empty-icon-color: #00befd28;
	--empty-icon-color-supercharged: #c150ff2d;
}

/* On non-touch (fine pointer) devices, increase padding */
@media (pointer: fine) and (hover: hover) {
	:root {
		--grid-padding: 48px;
	}
}

html {
	text-rendering: optimizeLegibility;
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
	scrollbar-gutter: stable;
}

body {
	font-family: var(--default-font-family);
	min-height: 100dvh;
	width: 100dvw;
}

@media (max-width: 1024px) {
	body {
		padding-right: calc(100dvw - 100%) !important;
	}
}

@media (max-width: 1024px) {
	html,
	body {
		overflow-x: hidden;
	}
}

.heading-styled {
	letter-spacing: var(--letter-spacing-wide);
	font-family: var(--font-family-geosans);
	font-weight: 400;
	text-transform: uppercase;
	text-shadow: 0 2px 4px var(--accent-a2);
	-webkit-text-stroke: 0.8px;
}

body.a11y-font .heading-styled {
	letter-spacing: normal;
	font-family: var(--default-font-family);
	font-weight: 700;
	text-transform: uppercase;
	text-shadow: 0 2px 4px var(--accent-a2);
	-webkit-text-stroke: 0px;
}

.button--glow {
	animation: buttonGlow 0.5s infinite alternate ease-in-out;
}

.warningDialog__title {
	font-family: var(--font-family-geosans);
	/* Use variable */
	filter: drop-shadow(0 0 4px var(--accent-6));
	letter-spacing: var(--letter-spacing-wide);
	text-transform: uppercase;
}

/* Visually hide an element but keep it accessible to screen readers */
.sr-only {
	position: absolute;
	width: 1px;
	height: 1px;
	padding: 0;
	margin: -1px;
	overflow: hidden;
	clip: rect(0, 0, 0, 0);
	white-space: nowrap;
	border-width: 0;
}

/* ============================================ */
/* PERFORMANCE OPTIMIZATIONS                   */
/* Based on trace analysis 2025-11-16         */
/* ============================================ */

@keyframes buttonGlow {
	from {
		/* Only animate filter - doesn't trigger layout */
		filter: drop-shadow(0 0 2px var(--accent-a0));
	}

	to {
		filter: drop-shadow(0 0 4px var(--accent-track));
	}
}

/* Optimize text rendering */
h1,
h2,
h3,
h4,
h5,
h6 {
	/* Ensure text is crisp without GPU overhead */
	-webkit-text-size-adjust: 100%;
	text-rendering: optimizeLegibility;
}

/* Reduce animation overhead when page is hidden */
@media (prefers-reduced-motion: reduce) {
	*,
	*::before,
	*::after {
		animation-duration: 0.01ms !important;
		animation-iteration-count: 1 !important;
		transition-duration: 0.01ms !important;
		scroll-behavior: auto !important;
	}
}

/* Note: scroll-behavior: smooth can cause rendering jank */
/* Let browsers use auto scroll by default */

/* Optimize focus states to prevent reflows */
*:focus {
	outline-offset: 2px;
	/* Prevents outline from triggering repaint of adjacent elements */
}
